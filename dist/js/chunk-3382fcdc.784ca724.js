(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3382fcdc"],{4208:function(e,t,a){"use strict";var s=a("b238"),i=a.n(s);i.a},6651:function(e,t,a){"use strict";a.r(t);var s,i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"principal"}},[e._m(0),a("div",{attrs:{id:"saisie"}},[a("div",{staticClass:"container",attrs:{id:"container-saisie"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-4",attrs:{id:"divCalendar"}},[a("Calendar",{attrs:{inline:!0,locale:e.fr,dateFormat:"dd/mm/yy"},on:{"date-select":e.clickCalendar},model:{value:e.date12,callback:function(t){e.date12=t},expression:"date12"}})],1),a("div",{staticClass:"col"},[a("div",{staticClass:"row"},[a("span",{staticClass:"text-center",attrs:{id:"spanJour"}},[e._v(" "+e._s(e.formaterJour(e.date12.getDay())+" "+e.date12.getDate()+" "+e.formaterMois(e.date12.getMonth()))+" ")]),a("span",{staticClass:"pi pi-heart"})]),a("div",{staticClass:"row"},[a("div",{staticClass:"card text-center"},[a("div",{staticClass:"card-body"},[a("DataTable",{staticClass:"p-datatable-responsive p-datatable-customers",attrs:{rows:4},scopedSlots:e._u([{key:"empty",fn:function(){return[e._v(" Aucune Activités trouvées. ")]},proxy:!0},{key:"loading",fn:function(){return[e._v(" Chargement des données en cours. ")]},proxy:!0}]),model:{value:e.missionsJour,callback:function(t){e.missionsJour=t},expression:"missionsJour"}},[a("Column",{attrs:{selectionMode:"multiple",headerStyle:"width: 3em"}}),a("Column",{attrs:{field:"name",header:"Missions/ Modules"}}),a("Column",{attrs:{field:"activite",header:"Type d'activités"}}),a("Column",{attrs:{field:"commentaire",header:"Commentaires"}}),a("Column",{attrs:{field:"charges",header:"Charges (h:m)"}}),a("Column",{attrs:{header:"Actions"},scopedSlots:e._u([{key:"body",fn:function(){return[a("a",{staticClass:"pi pi-times"}),a("a",{staticClass:"pi pi-star-o"}),a("a",{staticClass:"pi pi-pencil"})]},proxy:!0}])})],1)],1)])]),a("div",{staticClass:"row",class:e.divClassCharges},[e._m(1),a("div",{staticClass:"col"},[a("span",{class:e.classeCharges,attrs:{id:"sommes-charges"}},[e._v(e._s(this.chargesTotalJour))])]),a("div",{staticClass:"col"},[a("span",{class:e.classeCharges},[e._v(e._s(this.messageCharge))])])])])])])]),a("div",{attrs:{id:"test"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("Button",{staticClass:"p-button-secondary",attrs:{label:"Créer",icon:"pi pi-plus-circle"}})],1),a("div",{staticClass:"col"},[a("Button",{staticClass:"p-button-secondary",attrs:{label:"Activités favorites",icon:"pi pi-star"}})],1),a("div",{staticClass:"col"},[a("Button",{staticClass:"p-button-secondary",attrs:{label:"Journées types",icon:"pi pi-heart"}})],1),a("div",{staticClass:"col"},[a("Button",{staticClass:"p-button-secondary",attrs:{label:"Imports",icon:"pi pi-cloud-download"}})],1)]),a("div",{staticClass:"row"},[a("div",{attrs:{id:"periode"}},[a("Calendar",{attrs:{locale:e.fr,dateFormat:"dd/mm/yy"},model:{value:e.date2,callback:function(t){e.date2=t},expression:"date2"}}),a("span",[e._v(" au ")]),a("Calendar",{attrs:{locale:e.fr,dateFormat:"dd/mm/yy"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[e._m(2),a("div",{staticClass:"row dropdownWidth"},[a("Dropdown",{attrs:{options:e.missionsData},model:{value:e.selectedMission,callback:function(t){e.selectedMission=t},expression:"selectedMission"}})],1),e._m(3),a("div",{staticClass:"row dropdownWidth"},[a("Textarea",{attrs:{rows:"5",cols:"30"},model:{value:e.commentaire,callback:function(t){e.commentaire=t},expression:"commentaire"}})],1)]),a("div",{staticClass:"col"},[e._m(4),a("div",{staticClass:"row dropdownWidth"},[a("Dropdown",{attrs:{options:e.tabActivite},model:{value:e.selectedActivite,callback:function(t){e.selectedActivite=t},expression:"selectedActivite"}})],1),e._m(5),a("div",{staticClass:"row"},[a("div",{attrs:{id:"charges"}},[a("Spinner",{attrs:{min:0,max:24,id:"spin-heure"},model:{value:e.heure,callback:function(t){e.heure=t},expression:"heure"}}),e._v(" H "),a("Spinner",{attrs:{min:0,max:59,id:"spin-minute"},model:{value:e.minute,callback:function(t){e.minute=t},expression:"minute"}}),e._v(" Min ")],1)])])]),a("div",{staticClass:"row justify-content-end"},[a("Button",{staticClass:"p-button-secondary",attrs:{id:"btnAjouter",type:"submit",label:"Ajouter"},on:{click:e.clickValider}})],1)])])])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"lien"}},[a("a",{attrs:{href:"#"}},[e._v("Mes Activités")]),a("a",{attrs:{href:"#"}},[e._v("Saisir à la place de")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col"},[a("span",[e._v("TOTAL CHARGES")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("span",[e._v("Missions / Modules")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("span",[e._v("Commentaire (max 100 caractères)")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("span",[e._v("Type d'activités")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("span",[e._v("Charges(hh:mm)")])])}],n=(a("a4d3"),a("e01a"),a("d28b"),a("99af"),a("4de4"),a("4160"),a("d81d"),a("b65f"),a("a9e3"),a("d3b7"),a("ac1f"),a("3ca3"),a("1276"),a("159b"),a("ddb0"),a("ade3")),c=a("d4ec"),o=a("bee2"),l=a("bc3a"),u=a.n(l),d=a("c4c6"),m="http://localhost:8080/apiPactNG/api/v1/",h=function(){function e(){Object(c["a"])(this,e)}return Object(o["a"])(e,[{key:"getMissionServiceUserBoard",value:function(e){var t=JSON.parse(localStorage.getItem("user"));return u.a.get(m.concat("users/",t.username,"/missions"),{headers:Object(d["a"])(),params:{date:e}})}},{key:"getMissionServiceAllMissions",value:function(){return u.a.get(m.concat("missions"),{headers:Object(d["a"])()})}},{key:"postMission",value:function(e,t){var a=JSON.parse(localStorage.getItem("user"));u.a.post(m.concat("users/",a.username,"/missions"),{date:e,commentaire:t})}}]),e}(),v=new h,p="http://localhost:8080/apiPactNG/api/v1/",f=function(){function e(){Object(c["a"])(this,e)}return Object(o["a"])(e,[{key:"getSaisie",value:function(e,t){var a=JSON.parse(localStorage.getItem("user"));return u.a.get(p.concat("users/",a.username,"/saisies"),{headers:Object(d["a"])(),params:{dateDebut:e,dateFin:t}})}},{key:"postSaisie",value:function(e,t,a,s){var i=JSON.parse(localStorage.getItem("user"));u.a.post(p.concat("phases/1/saisies"),{saisie_type_activite:e,saisie_charge:t,saisie_date:a,saisie_commentaire:s,saisie_username:i.username})}}]),e}(),C=new f,g=(s={created:function(){var e=new Date,t=e.getMonth(),a=e.getFullYear(),s=0===t?11:t-1,i=11===s?a-1:a,r=11===t?0:t+1,n=0===r?a+1:a;this.minDate=new Date,this.minDate.setMonth(s),this.minDate.setFullYear(i),this.maxDate=new Date,this.maxDate.setMonth(r),this.maxDate.setFullYear(n);var c=new Date;c.setDate(e.getDate()-1),this.invalidDates=[e,c]},data:function(){return{date1:new Date(2020,3,1),date2:null,date3:null,date4:null,date5:null,date6:null,date7:null,date8:null,date9:null,date10:null,date11:null,date12:new Date,date13:null,date14:null,dates1:null,dates2:null,missionsJour:[],chargesTotalJour:"0:0",messageCharge:null,tabActivite:["Récupération","Conception","Activité sportive","Analyse"],missions:[{name:"Permissions et congés",activite:"Récupération",commentaire:"Test1",charges:"4:15",date:"2/4/2020"},{name:"PACT NG",activite:"Conception",commentaire:"Test2",charges:"4:15",date:"2/4/2020"},{name:"PACT NG",activite:"Conception",commentaire:"Test3",charges:"4:15",date:"1/4/2020"}],listDate:[],dateAujourdhui:new Date,commentaire:null,dateDebut:new Date,dateFin:null,fr:{firstDayOfWeek:1,dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],dayNamesShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],dayNamesMin:["D","L","Ma","Me","J","V","S"],monthNames:["Janvier","Fevrier","Mars","Avril","Mai","Juin","Juillet","Aout","Septembre","Octobre","Novembre","Decembre"],monthNamesShort:["Jan","Fev","Mar","Avr","Mai","Jui","Jui","Aou","Sep","Oct","Nov","Dec"],today:"Aujourd'hui",clear:"Effacer",weekHeader:"Sm"},missionsData:["Permissions et congés","PACT NG","Soutien"],selectedMission:null,selectedActivite:null,heure:0,minute:0,missionAdd:null,classeCharges:null,divClassCharges:null}}},Object(n["a"])(s,"created",(function(){})),Object(n["a"])(s,"mounted",(function(){var e=this;C.getSaisie("2020-03-18T08:00:08.566Z","2020-03-18T08:00:08.566Z").then((function(e){})),this.missions.filter((function(t){return t.date==="".concat(e.date12.getDate(),"/").concat(e.date12.getMonth()+1,"/").concat(e.date12.getFullYear())})).forEach((function(t){return e.missionsJour.push(t)}))})),Object(n["a"])(s,"methods",{reloadMission:function(){var e=this;v.getMissionServiceAllMissions().then((function(t){e.missions=t.data,e.listDate=t.data.map((function(e){return Number(e.missionDateRealisation.split("::")[0])}))}))},clickValider:function(){var e=this;this.missionAdd={name:this.selectedMission,activite:this.selectedActivite,commentaire:this.commentaire,charges:"".concat(this.heure,":").concat(this.minute),date:"".concat(this.date2.getDate(),"/").concat(this.date2.getMonth()+1,"/").concat(this.date2.getFullYear())},this.missions.push(this.missionAdd),this.missions.forEach((function(e){return console.log(e.commentaire)})),this.missionsJour=[],this.missions.forEach((function(e){return console.log(e.date)})),this.missions.filter((function(t){return t.date==="".concat(e.date12.getDate(),"/").concat(e.date12.getMonth()+1,"/").concat(e.date12.getFullYear())})).forEach((function(t){return e.missionsJour.push(t)})),this.chargesTotalJour=this.calculerChargesTotalJour(),this.messageCharge=this.editerMessageCharges()},filterMissionDuJour:function(){var e=this;return console.log("mission du jour : ".concat(this.missions.filter((function(t){return t.date===e.date12})))),this.missions.filter((function(t){return t.date===e.date12}))},calculerChargesTotalJour:function(){var e=0,t=0,a=!0,s=!1,i=void 0;try{for(var r,n=this.missionsJour[Symbol.iterator]();!(a=(r=n.next()).done);a=!0){var c=r.value,o=c.charges.split(":");e+=parseInt(o[0]),t+=parseInt(o[1])}}catch(d){s=!0,i=d}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}var l=t%60,u=Math.trunc(t/60)+e;return"".concat(u,":").concat(l)},editerMessageCharges:function(){var e,t=this.chargesTotalJour.split(":"),a=parseInt(t[0]),s=parseInt(t[1]);if(60*a+s<500){this.classeCharges="charges-manquante",this.divClassCharges="div-charges-manquante";var i=510-(60*a+s),r=Math.trunc(i/60),n=i%60;e=r+"h"+n+" manquantes"}if(60*a+s<=520&&60*a+s>=500&&(this.divClassCharges="div-charges-valide",this.classeCharges="charges-valide",e="Valide à +/- 10 minutes"),60*a+s>520){this.divClassCharges="div-charges-supp",this.classeCharges="charges-supp";var c=60*a+s-510,o=Math.trunc(c/60),l=c%60;e=o+"h"+l+" supplémentaire(s)"}return e},clickCalendar:function(){var e=this;this.missionsJour=[],this.missions.filter((function(t){return t.date==="".concat(e.date12.getDate(),"/").concat(e.date12.getMonth()+1,"/").concat(e.date12.getFullYear())})).forEach((function(t){return e.missionsJour.push(t)})),this.chargesTotalJour=this.calculerChargesTotalJour(),this.messageCharge=this.editerMessageCharges()},formaterJour:function(e){var t;switch(e){case 1:t="lundi";break;case 2:t="mardi";break;case 3:t="mercredi";break;case 4:t="jeudi";break;case 5:t="vendredi";break;case 6:t="samedi";break;default:t="dimanche";break}return t},formaterMois:function(e){var t;switch(e){case 0:t="janvier";break;case 1:t="février";break;case 2:t="mars";break;case 3:t="avril";break;case 4:t="mai";break;case 5:t="juin";break;case 6:t="juillet";break;case 7:t="aout";break;case 8:t="septembre";break;case 9:t="octobre";break;case 10:t="novembre";break;default:t="decembre";break}return t}}),s),b=g,M=(a("4208"),a("2877")),_=Object(M["a"])(b,i,r,!1,null,"7fcdd4ac",null);t["default"]=_.exports},b238:function(e,t,a){},b65f:function(e,t,a){var s=a("23e7"),i=Math.ceil,r=Math.floor;s({target:"Math",stat:!0},{trunc:function(e){return(e>0?r:i)(e)}})}}]);
//# sourceMappingURL=chunk-3382fcdc.784ca724.js.map